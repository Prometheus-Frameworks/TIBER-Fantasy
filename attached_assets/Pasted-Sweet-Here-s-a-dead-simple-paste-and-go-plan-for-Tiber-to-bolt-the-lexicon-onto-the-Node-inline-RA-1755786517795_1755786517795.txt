Sweet. Here’s a dead‑simple, paste‑and‑go plan for Tiber to bolt the lexicon onto the Node inline RAG—no DeepSeek, no drama.

Files to drop in
	•	fantasy_lexicon.v1.json
	•	rag_lexicon.js
	•	PATCH_SYNTHTAKE.txt (reference snippet)

Put them next to rag.router.js (or adjust paths accordingly).

⸻

Step‑by‑step (copy to Tiber)

1) Add the module + load the lexicon on boot

In rag.router.js, at the top with your other imports:

import { loadLexicon, enrichText } from "./rag_lexicon.js";

Right after your existing boot/init (where you call initRagOnBoot() or define routes), add:

if (process.env.FF_LEXICON_ENABLED !== "0") {
  const ok = loadLexicon(process.env.FF_LEXICON_PATH || "./fantasy_lexicon.v1.json");
  console.log(`[RAG] Lexicon ${ok ? "loaded" : "not loaded"}`);
}

Env (optional):

FF_LEXICON_PATH=./fantasy_lexicon.v1.json
FF_LEXICON_ENABLED=1

2) Patch synthTake() to enrich the body and nudge confidence

Inside synthTake(player, topic, rows), you already compute latest, verdict, conf, etc.
Right before the return, add this block:

// Build a blob from the latest article to scan for fantasy buzzwords
const blob = `${latest.title || ""} ${latest.text || ""}`.toLowerCase();

// Enrich the body with fantasy framing bullets
const baseBody = (
  `• Pulling ${rows.length} recent items (${[...new Set(rows.map(x => x.source).filter(Boolean))].join(", ")}). Topic='${topic || "general"}'.\n` +
  `• Why fade: if the date/source are weak or hype outruns role.\n` +
  `• Confidence: ${conf}/100`
);

// Only enrich if lexicon loaded (enrichText will no‑op otherwise)
const { text: takeText, delta } = enrichText(baseBody, blob);

// Clamp the confidence adjustment to ±5, and clamp final to [0,100]
const confAdj   = Math.max(-5, Math.min(5, delta || 0));
const finalConf = Math.max(0, Math.min(100, conf + confAdj));

Then return using takeText and finalConf:

return {
  headline: `${name}: actionable update (${dt})`,
  take: takeText,
  verdict,
  confidence: finalConf,
  facts: { team, position: pos, topic, articles_considered: rows.length },
  citations: rows.map(r => ({ title: r.title, url: r.url, published_at: r.published_at, source: r.source }))
};

This preserves your verdict logic and only adds:
(a) a short “Fantasy framing” section, and
(b) a tiny confidence nudge based on hits (e.g., “goal‑line role”, “hamstring”, “YPRR”).

3) Restart and verify

Rebuild index (not strictly required, but clean):

curl -X POST http://localhost:5000/admin/rag/reindex
curl      http://localhost:5000/admin/rag/status
# expect: { "articles": 76, "indexed": 76 }

Smoke test a couple players:

# Resolve an ID
curl "http://localhost:5000/api/rag/players/search?name=Josh%20Downs"

# Take with enrichment
curl "http://localhost:5000/api/rag/take?player_id=<ID>&topic=qb%20change" | jq '{headline, verdict, confidence, take}'

You should see a “Fantasy framing — …” block appended inside take. Confidence may bump ±1–5.

⸻

Operational notes (read this)
	•	Toggle: set FF_LEXICON_ENABLED=0 to disable enrichment without touching code.
	•	Editing the dictionary: open fantasy_lexicon.v1.json, add/modify entries, then restart the server. No schema migration needed.
	•	Bounded boost: we clamp the confidence adjustment to ±5 so lexicon hits can’t run away with the verdict.
	•	No changes to FE: JSON contract unchanged. Your RagTakeCard will just render richer text.

⸻

Quick add/edit guide for the dictionary

Open fantasy_lexicon.v1.json and add entries like:

{
  "usage_role": [
    {
      "phrase": "neutral pass rate",
      "gloss": "Team throws at league-average scripts; supports consistent WR volume.",
      "tags": ["team","wr","volume"],
      "weight": 2
    }
  ],
  "efficiency_metrics": [],
  "risk_context": [],
  "market_edges": []
}

	•	phrase: literal substring to match (lowercased internally).
	•	gloss: what it means for fantasy (this becomes a bullet).
	•	weight: −3 to +3. Negative = risk (e.g., “hamstring”), positive = fantasy juice (“goal‑line role”).
	•	Keep each category array under ~50–60 entries for now (we can expand later).

⸻

Rollback (if needed)
	•	Set FF_LEXICON_ENABLED=0 and restart.
	•	Or comment out the enrichText lines in synthTake(); everything else still works.

⸻

If you want, I’ll also prep a tiny unit test (Node) that runs a couple of synthetic blobs through enrichText and asserts the confidence delta stays within bounds—handy for CI.