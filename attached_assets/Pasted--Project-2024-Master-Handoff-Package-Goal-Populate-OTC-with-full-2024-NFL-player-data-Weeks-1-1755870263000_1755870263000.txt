ğŸˆ Project 2024 â€“ Master Handoff Package

Goal: Populate OTC with full 2024 NFL player data (Weeks 1â€“17) and build the /leaders system for 2025 rankings.
Agents Involved: Grok (data ingest), Kimi (metrics catalog), Claude (QA/docs), Deepseek (formulas/standards).
Integrator: Tiber.

â¸»

1. Project Overview (What the Team Needs to Know)
	â€¢	Scope:
	â€¢	Ingest 2024 seasonal + advanced metrics into Postgres (player_season_2024.csv, player_advanced_2024.csv).
	â€¢	Build /leaders endpoint + frontend UI with filtering, sorting, metric dropdowns.
	â€¢	Validate against QA checklist.
	â€¢	Tier metrics into Live vs Planned (Planned = PBP/NGS metrics we canâ€™t compute yet).
	â€¢	Outputs:
	â€¢	Full 2024 leaderboards by position + metric.
	â€¢	Baseline dataset to power 2025 rankings.
	â€¢	Stable and extensible backend with nullable planned metrics.
	â€¢	UI thatâ€™s clean, sortable, and shareable.

â¸»

2. Agent Deliverables (Already Complete)

Grok â€“ Ingest Scripts & Seasonal Data
	â€¢	âœ… scripts/ingest_player_season_2024.py â†’ saves data/player_season_2024.csv (core stats, FPTS, rushing, passing, receiving).
	â€¢	âœ… scripts/ingest_player_advanced_2024.py â†’ saves data/player_advanced_2024.csv (adot, racr, wopr, target share, rush_expl_10p, AYPA, EPA/play).
	â€¢	âš ï¸ Advanced fields (yprr, rush_yac_per_att, rush_mtf) left null for now.

Kimi â€“ Metrics Catalog
	â€¢	âœ… Fantasy-first catalog, trimmed of fluff.
	â€¢	âœ… Metrics flagged as Live (2024-ready) vs Planned (PBP/NGS).
	â€¢	âœ… Status baked in for each metric.
	â€¢	ğŸ¯ Guarantees only relevant stats (e.g., no snap %, contested catch).

Claude â€“ QA & Docs
	â€¢	âœ… docs/project2024-qa.md â†’ Comprehensive checklist.
	â€¢	âœ… Covers API structure, filters, validation, edge cases (rookies, team changes, Taysom Hill).
	â€¢	âœ… SQL spot-checks for formulas (YPC, CMP%, YPA).
	â€¢	âœ… UI testing plan for /leaders.

Deepseek â€“ Formulas & Standards
	â€¢	âœ… docs/project2024-formulas.md â†’ Exact formulas, pseudocode, worked examples.
	â€¢	âœ… Null protection rules, rounding, positional applicability.
	â€¢	âœ… Serves as authoritative standard for all advanced metrics.

â¸»

3. Tiber Integration Tasks
	1.	Data Loading
	â€¢	Load player_season_2024.csv and player_advanced_2024.csv into Postgres.
	â€¢	Ensure schema aligns with Deepseek formulas doc (column names + nullables).
	2.	API Endpoints
	â€¢	/api/stats/2024/leaderboard
	â€¢	Params: position, metric, limit, dir, min_games, min_routes, min_att, min_att_qb.
	â€¢	Whitelist metrics by position (per Kimi).
	â€¢	Null-safe handling.
	â€¢	Ensure response matches Claude schema spec.
	3.	UI /leaders Page
	â€¢	Tabs: RB / WR / TE / QB.
	â€¢	Dropdown = metrics for that position.
	â€¢	Sorting arrows + default sensible metric (RB=rush_yards, WR=targets, QB=pass_tds, TE=targets).
	â€¢	Filters visible only when relevant (min_att RB, min_routes WR/TE, etc).
	â€¢	Search bar + shareable URL state.
	â€¢	Nulls show as â€”, decimals rounded to 2 places.
	â€¢	Team logos added beside names (QOL fix).
	4.	Validation
	â€¢	Run Claudeâ€™s regression commands (byte-for-byte tests).
	â€¢	Cross-check derived formulas with Deepseekâ€™s worked examples.
	â€¢	Eye-test UI for tier flips, anomalies, and player/team sanity.
	5.	QOL Fixes
	â€¢	âœ… Add team logos.
	â€¢	âœ… Future toggle for graph view (not required now, but reserve).
	â€¢	âœ… Display â€œGame log highlightâ€ option (e.g., RB vs Saints DST â€” Week 6, Tucker 35.2 pts).

â¸»

4. Final Fixes & Notes
	â€¢	Nullable Metrics: Advanced stats (routes, YPRR, rush YAC/att, MTF) should be null-safe. Donâ€™t backfill with 0.
	â€¢	Season Scope: Only 2024 Weeks 1â€“17 for now. Default season=2024.
	â€¢	Display Rules:
	â€¢	Backend = full precision.
	â€¢	UI = 2 decimal rounding.
	â€¢	Null = â€”.
	â€¢	Consistency: Ensure naming matches across Grok scripts, Kimi catalog, Deepseek formulas, and Claude QA docs.

â¸»

5. Definition of Done âœ…
	â€¢	All 2024 player leaderboards live under /leaders.
	â€¢	API responses validated against QA doc.
	â€¢	Metrics align with catalog (Live now, Planned nullable).
	â€¢	UI clean with logos, filters, null-safe, and shareable state.
	â€¢	Backend future-proofed for PBP/NGS expansion.
