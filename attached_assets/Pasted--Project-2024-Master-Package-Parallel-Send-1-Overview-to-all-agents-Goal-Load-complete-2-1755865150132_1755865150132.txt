üèà Project 2024 ‚Äî Master Package (Parallel Send)

1) Overview (to all agents)

Goal: Load complete 2024 season player stats so OTC can ship:
	‚Ä¢	2025 rankings built on real 2024 performance.
	‚Ä¢	Leaderboards per position (RB/WR/TE/QB) with 5‚Äì10 high-signal metrics each.
	‚Ä¢	A clean UI page /leaders (tabs by position, metric dropdown, sorting, filters, logos).

Why: This is the stats backbone. Everything else (trade evals, projections, SOS enrichments) sits on top of it.

Workflow: You each deliver your piece ‚Üí I review with Lamar ‚Üí Lamar produces the Tiber handoff with exact diffs ‚Üí Tiber integrates.

‚∏ª

2) Agent-Specific Tasks

üîµ Kimi K2 ‚Äî Metrics Catalog (fantasy-first)

Deliverable: docs/project2024-metrics.md
	‚Ä¢	For each position, list 5‚Äì10 decision-driving metrics:
	‚Ä¢	RB: rush_ypc, rush_yac_per_att, rush_mtf, rush_expl_10p, targets, rec_yards, yprr, td_total
	‚Ä¢	WR: targets, receptions, rec_yards, rec_tds, adot, yprr, racr, target_share, wopr
	‚Ä¢	TE: targets, receptions, rec_yards, rec_tds, yprr, target_share
	‚Ä¢	QB: cmp_pct, pass_yards, pass_tds, int, ypa, aypa, epa_per_play, rush_yards, rush_tds
	‚Ä¢	For each metric: definition, source, typical range, why it matters.
	‚Ä¢	Flag any metrics that require pbp-derived data (EPA, YPRR, RACR, WOPR).
	‚Ä¢	Keep it ruthless: if it doesn‚Äôt change start/sit or ranking, cut it.

üî¥ DeepSeek ‚Äî Formulas & Standards

Deliverable: docs/project2024-metric-formulas.md
	‚Ä¢	Provide exact formulas + references/pseudocode for:
	‚Ä¢	AYPA, YPRR, aDOT, RACR, WOPR, rush_expl_10p, target_share
	‚Ä¢	Call out data dependencies (weekly vs pbp).
	‚Ä¢	Include 2‚Äì3 worked examples with realistic numbers.

üü¢ Grok ‚Äî Ingest & Season Aggregates

Deliverables:
	‚Ä¢	scripts/ingest_player_season_2024.py (uses nfl_data_py weekly + seasonal; safe on Replit).
	‚Ä¢	data/player_season_2024.csv matching schema below.

Compute per player (2024 REG only):
	‚Ä¢	Shared: player_id, player_name, team, position, games, fpts, fpts_ppr
	‚Ä¢	RB: rush_att, rush_yards, rush_tds, rush_ypc, rush_yac_per_att (nullable), rush_mtf (nullable), rush_expl_10p (nullable), targets, rec_yards, yprr (nullable), td_total
	‚Ä¢	WR/TE: targets, receptions, rec_yards, rec_tds, adot (nullable), yprr (nullable), racr (nullable), target_share (nullable), wopr (nullable), fpts_ppr
	‚Ä¢	QB: cmp, att, cmp_pct, pass_yards, pass_tds, int, ypa, aypa (compute formula if not present), epa_per_play (nullable), rush_yards, rush_tds, fpts

Notes:
	‚Ä¢	Guard divides by zero.
	‚Ä¢	Leave advanced fields null if not available; don‚Äôt fake it.

üü† Tiber ‚Äî Backend + UI

Backend
	‚Ä¢	Migration: create player_season_2024 with all fields Grok outputs.
	‚Ä¢	Endpoint:
GET /api/stats/2024/leaderboard?position=RB&metric=rush_ypc&limit=50&dir=desc&min_games=8&min_routes=150&min_att=100&min_att_qb=250
	‚Ä¢	Whitelist metrics per position; reject or fallback on invalid.
	‚Ä¢	Apply sensible defaults for thresholds (above).
	‚Ä¢	Optional: /api/stats/2024/player?name=‚Ä¶ for search.

UI (/leaders)
	‚Ä¢	Tabs: RB / WR / TE / QB
	‚Ä¢	Metric dropdown (dynamic per position), sort dir toggle.
	‚Ä¢	Filters: min games (always), position-specific thresholds (routes/att/att_qb).
	‚Ä¢	Table: Player | Team (logo) | Games | key stat columns | FPTS(PPR).
	‚Ä¢	Sticky header, pagination, search.

üü£ Claude ‚Äî QA + Docs

Deliverables:
	‚Ä¢	docs/project2024-qa.md
	‚Ä¢	API structure + metric whitelist tests
	‚Ä¢	Threshold filters behave correctly
	‚Ä¢	Sorting stable & correct
	‚Ä¢	/leaders UX: tabs, dropdowns, search, URLs reflect state
	‚Ä¢	Update API docs for the new endpoints and parameter descriptions.

‚∏ª

3) Schema (for Grok & Tiber alignment)

Table: player_season_2024

player_id TEXT, player_name TEXT NOT NULL, position TEXT NOT NULL, team TEXT, games SMALLINT,
-- Receiving
targets INT, receptions INT, rec_yards INT, rec_tds INT, routes INT,
yprr NUMERIC, adot NUMERIC, racr NUMERIC, target_share NUMERIC, wopr NUMERIC,
-- Rushing
rush_att INT, rush_yards INT, rush_tds INT, rush_ypc NUMERIC,
rush_yac_per_att NUMERIC, rush_mtf INT, rush_expl_10p NUMERIC,
-- QB passing
cmp INT, att INT, cmp_pct NUMERIC, pass_yards INT, pass_tds INT, "int" INT, ypa NUMERIC, aypa NUMERIC, epa_per_play NUMERIC,
-- QB rushing
qb_rush_yards INT, qb_rush_tds INT,
-- Fantasy
fpts NUMERIC, fpts_ppr NUMERIC

Indexes: (position), (team). Unique suggestion: (player_name, position, team).

‚∏ª

4) ‚ÄúDone‚Äù means
	‚Ä¢	player_season_2024 populated (2024 only).
	‚Ä¢	Leaderboards endpoint returns correct, filtered, sortable lists per position.
	‚Ä¢	/leaders renders with logos, metric dropdown, thresholds.
	‚Ä¢	Docs + QA pass (Claude checklist).

