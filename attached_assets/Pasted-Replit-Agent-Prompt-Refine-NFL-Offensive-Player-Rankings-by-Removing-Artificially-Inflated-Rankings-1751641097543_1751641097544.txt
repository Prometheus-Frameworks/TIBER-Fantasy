Replit Agent Prompt: Refine NFL Offensive Player Rankings by Removing Artificially Inflated Rankings
Task: Update the fantasy football app’s ranking script to refine NFL offensive player rankings (QB, RB, WR, TE) by identifying and removing players whose high rankings are artificially inflated due to anomalies or unreliable data. Ensure rankings reflect true fantasy value based on consistent, fantasy-relevant analytics.
Steps:
1.  API Integration: Continue using APIs (e.g., nflverse, ESPN Public API, MySportsFeeds) with existing authentication.
2.  Data Retrieval: Pull 2024 season stats, focusing on advanced metrics and game logs.
3.  Identify Artificially Inflated Rankings:
	•  Flag players with outlier scores (e.g., scores matching others like 64.0 across multiple WRs) that don’t align with consistent performance metrics (e.g., low PPG over a full season, small sample sizes, or injury-driven spikes).
	•  Cross-check against minimum thresholds: e.g., at least 8 games played, 100 snaps, or 50% of team targets/routes.
	•  Exclude players with temporary boosts (e.g., one-game blowups, backup promotions) not supported by long-term trends.
4.  Recalculate Rankings: Recalculate composite scores using fantasy-relevant metrics (e.g., EPA per Play, Yards per Route Run) after removing flagged players. Ensure rankings prioritize consistency and volume.
5.  Output: Update rankings in the app’s database, export to JSON, and display top 10 players per position with notes on excluded players.
Implementation Notes:
•  Use Python with nfl_data_py, pandas, requests.
•  Implement a filter to detect and remove players with scores artificially elevated (e.g., identical scores across diverse PPG profiles).
•  Log reasons for exclusions (e.g., “Removed Laquon Treadwell: 8.6 PPG with 64.0 score inconsistent with sample size”).
•  Test with current data to ensure players like Chris Godwin or Mike Williams aren’t misranked due to depth chart anomalies.
•  Sync with app’s real-time database for ESPN/Yahoo/NFL integration.
Deliverable:
•  Script (nfl_refined_rankings.py):
	•  Pulls and filters API data.
	•  Recalculates rankings, removing inflated entries.
	•  Stores in database.
	•  Outputs JSON (refined_rankings_2024.json).
•  Console: Top 10 players per position with exclusion log.
Resources:
•  nflverse: https://pypi.org/project/nfl-data-py/.
•  ESPN API: http://developer.espn.com/docs.
•  MySportsFeeds: https://www.mysportsfeeds.com/data-feeds/nfl.
Deadline: [Insert deadline, e.g., 7 days].