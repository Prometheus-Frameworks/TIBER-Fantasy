üß† Task: Map All WR Ranking Calculations (Sandbox vs Role Context)

I want you to audit and document what‚Äôs powering WR rankings in two places:
	1.	Admin Sandbox (/admin/wr-sandbox) ‚Äì Alpha view
	2.	Rankings tab ‚Üí Season Roles + Fantasy Rankings for WR

Don‚Äôt change any logic yet. I just want a clear map of what formulas and data sources each layer is using.

‚∏ª

1Ô∏è‚É£ Admin Sandbox ‚Äì Alpha Composite

Goal: Find the exact code that powers the WR sandbox page and the Alpha Score there.

Please:
	1.	Locate:
	‚Ä¢	Backend for the sandbox endpoint
	‚Ä¢	Likely something like:
	‚Ä¢	GET /api/admin/wr-sandbox
	‚Ä¢	or a similar route in server/routes.ts
	‚Ä¢	Service file that calculates the Alpha score (could be new or reused)
	‚Ä¢	Frontend component for /admin/wr-sandbox (looks like it‚Äôs a dedicated admin/sandbox page)
	2.	For the sandbox table, document for each of these columns:
	‚Ä¢	Targets
	‚Ä¢	Fantasy Pts (is this full PPR? half PPR? total season points?)
	‚Ä¢	Pts/Tgt
	‚Ä¢	Sample or Sample Penalty
	‚Ä¢	Adj Pts/Tgt
	‚Ä¢	Alpha Score
	‚Ä¢	Role Score
	‚Ä¢	Deep %
	‚Ä¢	Slot %
	3.	For Alpha Score specifically, I want the exact formula:
	‚Ä¢	Input metrics used (e.g. targets, games, fantasy points, adjPtsPerTarget, anything else)
	‚Ä¢	Weighting scheme (e.g. 45% volume / 35% fantasy / 20% efficiency, or whatever is in code now)
	‚Ä¢	Any filters or thresholds applied (e.g. min games, min targets)
	‚Ä¢	Where it‚Äôs implemented (file + function name)
	4.	Save an audit file to:
	‚Ä¢	/tmp/WR_ALPHA_SANDBOX_AUDIT.md
	‚Ä¢	Include:
	‚Ä¢	SQL / Drizzle query that backs the sandbox
	‚Ä¢	The Alpha score formula, step-by-step
	‚Ä¢	How Role Score in this sandbox is being fetched (from wr_role_bank.role_score or something else)

‚∏ª

2Ô∏è‚É£ Rankings ‚Üí WR ‚Üí Season Roles

This is the current production ‚ÄúRole Context‚Äù view.
	1.	Verify which endpoint the Season Roles WR view calls:
	‚Ä¢	Likely: GET /api/role-bank/WR/:season
	2.	In the backend, locate the code that computes roleScore for WR:
	‚Ä¢	This should be in the WR Role Bank v2.0 implementation
	‚Ä¢	Probably in server/services/roleBankService.ts (or similar)
	3.	For WR Role Bank v2.0, document:
	‚Ä¢	All intermediate scores:
	‚Ä¢	volumeScore (what goes into this: targetsPerGame, targetShareAvg, routesPerGame, and their weights)
	‚Ä¢	consistencyScore
	‚Ä¢	highValueFinal (deep targets + slot bonus)
	‚Ä¢	momentumScore
	‚Ä¢	efficiencyScore (PPR per target thresholds)
	‚Ä¢	pureRoleScore (pre-blend)
	‚Ä¢	Final formula for roleScore (v2.0) ‚Äì the actual line of code that does the final weighted blend.
	4.	Save a clear spec to:
	‚Ä¢	/tmp/WR_ROLE_BANK_V2_AUDIT.md
	‚Ä¢	Include:
	‚Ä¢	Each sub-score formula (volume, consistency, high-value, momentum, efficiency)
	‚Ä¢	The final roleScore formula
	‚Ä¢	Any thresholds (min games, min targets)

‚∏ª

3Ô∏è‚É£ Rankings ‚Üí WR ‚Üí Fantasy Rankings

This is the Fantasy-focused public view.
	1.	Confirm the endpoint powering Fantasy Rankings for WR:
	‚Ä¢	Likely: GET /api/fantasy-rankings/WR/:season
	2.	Find the service file that defines the fantasy WR score:
	‚Ä¢	Probably: server/services/fantasyWrRankingsService.ts (or similar)
	3.	Document the fantasy WR scoring model:
	‚Ä¢	Exact formula for:
	‚Ä¢	VolumeIndex
	‚Ä¢	PPGIndex
	‚Ä¢	SpiceIndex (how it‚Äôs derived; I remember it‚Äôs tied to Role Bank / pure role score)
	‚Ä¢	Final Fantasy score formula (e.g. 0.60 * VolumeIndex + 0.30 * PPGIndex + 0.10 * SpiceIndex)
	‚Ä¢	Any filters (min games, min targets, etc.)
	4.	Save a spec to:
	‚Ä¢	/tmp/FANTASY_WR_RANKINGS_AUDIT.md

‚∏ª

4Ô∏è‚É£ Side-by-Side Comparison

Once you‚Äôve done 1‚Äì3:

Create a single comparison doc:
	‚Ä¢	Path: /tmp/WR_RANKING_SYSTEM_MAP.md
	‚Ä¢	Include:

	1.	A table with three rows and columns:
	‚Ä¢	Layer: Sandbox / Alpha, Season Roles, Fantasy Rankings
	‚Ä¢	Endpoint used
	‚Ä¢	Service file & function name
	‚Ä¢	Primary inputs (targets, PPG, PPR/target, deep rate, slot share, etc.)
	‚Ä¢	Final formula (weight breakdown)
	2.	A short paragraph per layer:
	‚Ä¢	What it optimizes for (role clarity, fantasy production, experimentation)
	‚Ä¢	What filters it applies (min games/targets)
	‚Ä¢	Whether it‚Äôs user-facing or internal (admin only)

‚∏ª

5Ô∏è‚É£ Do NOT Change Logic Yet

This is an audit only.
	‚Ä¢	Don‚Äôt change any formulas.
	‚Ä¢	Don‚Äôt move Alpha into production yet.
	‚Ä¢	Don‚Äôt rename tabs.

Just map everything clearly so the architect (me) can decide how to merge / promote Alpha into the main Rankings later.

‚∏ª

That‚Äôs the whole task.
Once you‚Äôre done, report back with:
	‚Ä¢	Confirmation that all four files were written:
	‚Ä¢	/tmp/WR_ALPHA_SANDBOX_AUDIT.md
	‚Ä¢	/tmp/WR_ROLE_BANK_V2_AUDIT.md
	‚Ä¢	/tmp/FANTASY_WR_RANKINGS_AUDIT.md
	‚Ä¢	/tmp/WR_RANKING_SYSTEM_MAP.md

And a quick summary of any surprises you found.