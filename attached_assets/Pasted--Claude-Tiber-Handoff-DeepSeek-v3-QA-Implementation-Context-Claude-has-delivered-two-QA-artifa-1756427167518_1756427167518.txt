ğŸ“ Claude â†’ Tiber Handoff: DeepSeek v3 QA Implementation
Context

Claude has delivered two QA artifacts:

DeepSeek v3 Launch QA Checklist â€” validates new rankings engine (schema, tiers, ADP deltas, guardrails).

Ratings v1 QA Suite â€” broader regression + DB validation (legacy structure, but reusable for v3 with minor tweaks).

Your task is to implement and run the QA assertions across both scopes to ensure the v3 system is stable, accurate, and production-ready.

Immediate Action Items
1. Wire the QA Harness

Implement automated scripts/tests from Part 1 directly against /api/rankings/deepseek/v3.

Make sure assertions are in place for:

âœ… Response schema (mode, rank, player_id, score, tier, delta_vs_adp)

âœ… Tier cutoffs [96,91,86,81,76,71] â€” no single-player tiers

âœ… Scores within [0â€“100], sorted descending, sequential rank 1â€¦N

âœ… ADP deltas calculated correctly (early ADP players â‰ˆ smaller deltas)

âœ… p50 latency <300ms, p95 <600ms

2. Regression from Legacy QA

Reuse relevant v1 QA scripts against v3 data:

âœ… Score sanity (no negatives, no >100)

âœ… Coverage (W1â€“17, 10k+ rows)

âœ… Player profiles valid (age 20â€“45, draft rounds 1â€“7)

âœ… Debug reconciliation (score â‰ˆ sum of weighted components Â±1.0)

Adjust debug key names (v3 = talent/role/context/durability/recency/spike/risk).

3. Guardrails Validation

Confirm /api/rankings/deepseek/v3 enforces:

max_players = 1000 cap

Sleeper sync health flag respected (503 if false)

Dry-run logs top 50 players before flipping live

4. Frontend Smoke Test

Validate new /rankings/v3 table populates correctly:

Renders dynasty & redraft toggle

Displays rank, name, pos, team, age, tier, score, ADP, delta

â€œUpdated just nowâ€ badge reflects server timestamp

Deliverables

âœ… QA results report: pass/fail for each assertion in Part 1 (v3 QA)

âœ… Regression log: highlight which legacy v1 QA checks remain green under v3

âœ… Known gaps/edge cases documented (e.g., ADP missing for new rookies)

âœ… Final sign-off: â€œDeepSeek v3 QA Passed, ready for production toggleâ€

Notes for You, Tiber

Focus first on v3 launch assertions â€” those must go green before user-facing release.

Keep the v1 regression scripts as a standing regression suite for weekly recompute jobs.

Do not auto-cron recompute yet â€” manual run only until we pass 3 cycles without drift.